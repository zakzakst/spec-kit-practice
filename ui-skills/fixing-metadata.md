---
name: fixing-metadata
description: 正確で完全なメタデータを出荷します。
---

# fixing-metadata

正確で完全なメタデータを出荷します。

## 使い方

- `/fixing-metadata`
  これらの制約をこの会話のすべてのメタデータ作業に適用します。

- `/fixing-metadata <file>`
  以下のすべてのルールに照らしてファイルを確認し、報告してください:
  - 違反（正確な行または抜粋を引用してください）
  - なぜそれが重要なのか（短い一文）
  - 具体的な修正（コードレベルの提案）

明示的に要求されない限り、新しいフレームワークやSEOライブラリを導入しないでください。差分は最小限に抑えることを優先します。

## いつ利用するか

以下のガイドラインを参考にしてください:

- ページのタイトル、説明、正規表現、ロボットの追加または変更
- Open GraphまたはTwitterカードのメタデータを実装する
- ファビコン、アプリアイコン、マニフェスト、テーマカラーの設定
- 共有SEOコンポーネントまたはレイアウトメタデータのデフォルトを構築する
- 構造化データ（JSON-LD）の追加
- ロケール、代替言語、または正規ルーティングの変更
- 新しいページ、マーケティングページ、共有可能なリンクの配布

## 優先度別のルールカテゴリ

| 優先度 | カテゴリ               | 影響   |
| ------ | ---------------------- | ------ |
| 1      | 正確性と重複           | 重要   |
| 2      | タイトルと説明         | 高     |
| 3      | 正規化とインデックス   | 高     |
| 4      | ソーシャルカード       | 高     |
| 5      | アイコンとマニフェスト | 中     |
| 6      | 構造化データ           | 中     |
| 7      | ロケールと代替言語     | 低～中 |
| 8      | ツールの境界           | 重要   |

## クイックリファレンス

### 1. 正確性と重複（重要）

- メタデータをページごとに1か所で定義し、競合するシステムを回避する
- 重複したタイトル、説明、正規化、またはロボットタグを出力しない
- メタデータは決定論的である必要があり、ランダムまたは不安定な値は使用しない
- ユーザーが生成した文字列や動的な文字列をエスケープしてサニタイズする
- すべてのページにはタイトルと説明の安全なデフォルトが必要です

### 2. タイトルと説明（高）

- すべてのページにはタイトルが必要です
- サイト全体で一貫したタイトル形式を使用する
- タイトルは短く読みやすくし、詰め込みすぎないようにしましょう
- 共有または検索可能なページにはメタディスクリプションが必要です
- 説明はプレーンテキストで、マークダウンや引用スパムは禁止です

### 3. 正規化とインデックス作成（高）

- 正規 URL はページの優先 URL を指す必要があります
- noindex は非公開ページ、重複ページ、非公開ページにのみ使用してください。
- ロボットのメタは実際のアクセス意図と一致する必要があります
- プレビューまたはステージングページは、可能であればデフォルトで noindex にする必要があります。
- ページ区切りページは正しい正規の動作をする必要がある

### 4. ソーシャルカード（高）

- 共有可能なページでは、Open Graphのタイトル、説明、画像を設定する必要があります。
- Open GraphとTwitterの画像は絶対URLを使用する必要があります
- 正しい画像寸法と安定したアスペクト比を優先する
- og:urlは正規URLと一致する必要があります
- 適切なog:type（通常はwebsiteまたはarticle）を使用する
- twitter:card を適切に設定し、summary_large_image をデフォルトにする

### 5. アイコンとマニフェスト（中）

- ブラウザ間で機能するファビコンを少なくとも 1 つ含める
- 関連する場合はapple-touch-iconを含める
- マニフェストは有効であり、使用時に参照される必要があります
- UI クロームの不一致を避けるために、意図的にテーマカラーを設定します。
- アイコンパスは安定しており、キャッシュ可能である必要がある

### 6. 構造化データ（中）

- 実際のページコンテンツに明確にマッピングされない限り、JSON-LD を追加しないでください。
- JSON-LDは有効であり、実際にレンダリングされたものを反映している必要があります。
- 評価、レビュー、価格、組織の詳細を捏造しないでください
- 必要でない限り、ページごとに1つの構造化データブロックを優先します。

### 7. ロケールと代替言語（低～中）

- HTMLのlang属性を正しく設定する
- ローカライズが存在する場合はog:localeを設定する
- ページが実際に存在する場合にのみ hreflang 代替を追加します
- ローカライズされたページはロケールごとに正しく正規化される必要があります

### 8. ツールの境界（重要）

- 最小限の変更を優先し、無関係なコードをリファクタリングしない
- 要求されない限りフレームワークやSEOライブラリを移行しない
- プロジェクトの既存のメタデータパターンに従う（Next.js メタデータ API、react-helmet、manual head など）

## レビューガイダンス

- 最初に重大な問題を修正する（重複、正規化、インデックス作成）
- タイトル、説明、正規表現、og:urlが一致していることを確認する
- ローカルホストではなく実際の URL でソーシャル カードを検証する
- 巧妙で動的なメタデータよりも、安定した退屈なメタデータを好む
- 差分は最小限に抑え、メタデータのみに限定する
