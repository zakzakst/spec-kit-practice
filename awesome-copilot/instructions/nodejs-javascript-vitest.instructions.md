---
description: "Vitest テストで Node.js および JavaScript コードを書くためのガイドライン"
applyTo: "**/*.js, **/*.mjs, **/*.cjs"
---

# コード生成ガイドライン

## コーディング標準

- ES2022 機能と Node.js (20+) ESM モジュールを使用して JavaScript を使用する
- Node.jsの組み込みモジュールを使用し、可能な限り外部依存関係を避ける
- 追加の依存関係を追加する前に、ユーザーに追加の依存関係が必要かどうかを確認します
- 非同期コードには常にasync/awaitを使用し、コールバックを避けるために「node:util」promisify関数を使用してください
- コードをシンプルかつ保守しやすいものにする
- 説明的な変数名と関数名を使用する
- 絶対に必要な場合を除き、コメントを追加しないでください。コードは説明不要です
- `null` は使用せず、オプションの値には常に `undefined` を使用してください
- クラスよりも関数を優先する

## テスト

- テストにはVitestを使用する
- すべての新機能とバグ修正のテストを書く
- テストがエッジケースとエラー処理をカバーしていることを確認する
- テストを容易にするために元のコードを変更しないでください。代わりに、元のコードをそのままカバーするテストを記述してください

## ドキュメント

- 新しい機能を追加したり、大幅な変更を加えたりする場合は、必要に応じて README.md ファイルを更新してください

## ユーザーインタラクション

- 実装の詳細、設計の選択について不明な点がある場合、または要件を明確にする必要がある場合は質問してください
- 質問と同じ言語で回答してください。ただし、コード、コメント、ドキュメントなどの生成されたコンテンツには英語を使用してください
