---
description: "GitHub Copilot 向け高品質エージェントスキル作成ガイドライン"
applyTo: "**/.github/skills/**/SKILL.md, **/.claude/skills/**/SKILL.md"
---

# エージェントスキルファイルガイドライン

特殊な機能、ワークフロー、バンドルされたリソースを使用して GitHub Copilot を強化する、効果的で移植可能なエージェント スキルを作成する手順。

## エージェントスキルとは何ですか?

エージェントスキルは、AIエージェントに特殊な機能を学習させるための指示とバンドルされたリソースが含まれた自己完結型のフォルダです。カスタム指示（コーディング標準を定義するもの）とは異なり、スキルはスクリプト、サンプル、テンプレート、参照データなどを含むタスク固有のワークフローを実現します。

主な特徴:

- **ポータブル**: VS Code、Copilot CLI、Copilot コーディング エージェントで動作します
- **プログレッシブローディング**: ユーザーのリクエストに関連する場合にのみ読み込まれます
- **リソースバンドル**: スクリプト、テンプレート、例を手順と一緒に含めることができます
- **オンデマンド**: プロンプトの関連性に基づいて自動的にアクティブ化されます

## ディレクトリ構造

スキルは特定の場所に保存されます:

| 場所                             | 範囲                    | 推奨                         |
| -------------------------------- | ----------------------- | ---------------------------- |
| `.github/skills/<skill-name>/`   | プロジェクト/リポジトリ | プロジェクトスキルにおすすめ |
| `.claude/skills/<skill-name>/`   | プロジェクト/リポジトリ | レガシー、下位互換性のため   |
| `~/.github/skills/<skill-name>/` | 個人（ユーザー全体）    | 個人スキルにおすすめ         |
| `~/.claude/skills/<skill-name>/` | 個人（ユーザー全体）    | レガシー、下位互換性のため   |

各スキルには、少なくとも `SKILL.md` ファイルを含む独自のサブディレクトリが **必要** です。

## 必要なSKILL.md形式

### 前書き（必須）

```yaml
---
name: webapp-testing
description: Playwrightを使用してローカルWebアプリケーションをテストするためのツールキットです。フロントエンドの機能検証、UIの動作デバッグ、ブラウザのスクリーンショットのキャプチャ、表示の不具合チェック、ブラウザのコンソールログの表示など、必要な場合にご利用ください。Chrome、Firefox、WebKitブラウザをサポートしています。
license: Complete terms in LICENSE.txt
---
```

| フィールド    | 必須 | 制約                                                                 |
| ------------- | ---- | -------------------------------------------------------------------- |
| `name`        | Yes  | 小文字、スペースはハイフン、最大 64 文字 (例: `webapp-testing`)      |
| `description` | Yes  | 機能と使用例の明確な説明（最大 1024 文字）                           |
| `license`     | No   | LICENSE.txtへの参照（例：`LICENSE.txtの完全な条項`）またはSPDX識別子 |

### 説明のベストプラクティス

**クリティカル**: `description` フィールドは、スキルの自動検出における主要なメカニズムです。Copilot は、スキルを読み込むかどうかを判断する際に `name` と `description` のみを読み取ります。説明が曖昧な場合、スキルは有効になりません。

**説明に含める内容:**

1. **何を** するスキルか（能力）
2. **いつ** 使用するか（特定のトリガー、シナリオ、ファイルタイプ、またはユーザーリクエスト）
3. **キーワード** ユーザーがプロンプトで言及する可能性がある

**良い説明:**

```yaml
description: Playwrightを使用してローカルWebアプリケーションをテストするためのツールキットです。フロントエンドの機能検証、UIの動作デバッグ、ブラウザのスクリーンショットのキャプチャ、表示の不具合チェック、ブラウザのコンソールログの表示など、必要な場合にご利用ください。Chrome、Firefox、WebKitブラウザをサポートしています。
```

**説明が不十分:**

```yaml
description: Webテストヘルパー
```

不十分な説明は、

- 特定のトリガーはありません（Copilot はいつこれをロードする必要がありますか?）
- キーワードなし（どのユーザープロンプトが一致するでしょうか?）
- 機能なし（実際に何ができるのか？）

### 本文

本文には、スキルが起動された後にCopilotが読み込む詳細な指示が含まれています。推奨セクション:

| セクション                              | 目的                                                   |
| --------------------------------------- | ------------------------------------------------------ |
| `# タイトル`                            | このスキルで何ができるのかの簡単な概要                 |
| `## このスキルを使うタイミング`         | シナリオのリスト（説明トリガーを強化）                 |
| `## 前提条件`                           | 必要なツール、依存関係、環境設定                       |
| `## ステップバイステップのワークフロー` | 一般的なタスクの番号付き手順                           |
| `## トラブルシューティング`             | よくある問題と解決策の表                               |
| `## 参考文献`                           | バンドルされたドキュメントまたは外部リソースへのリンク |

## リソースのバンドル

スキルには、Copilot がオンデマンドでアクセスする追加フ​​ァイルを含めることができます。:

### サポートされているリソースの種類

| フォルダ      | 目的                                                                                | コンテキストにロードされるか | サンプルファイル                                            |
| ------------- | ----------------------------------------------------------------------------------- | ---------------------------- | ----------------------------------------------------------- |
| `scripts/`    | 特定の操作を実行する実行可能な自動化                                                | 実行時                       | `helper.py`, `validate.sh`, `build.ts`                      |
| `references/` | AIエージェントが意思決定の参考として読むドキュメント                                | はい、参照されている場合     | `api_reference.md`, `schema.md`, `workflow_guide.md`        |
| `assets/`     | **静的ファイルは出力でそのまま使用されます** (AIエージェントによって変更されません) | いいえ                       | `logo.png`, `brand-template.pptx`, `custom-font.ttf`        |
| `templates/`  | **AIエージェントが変更し、構築するスターターコード/スキャフォールディング**         | はい、参照されている場合     | `viewer.html`（アルゴリズムを挿入）, `hello-world/`（拡張） |

### ディレクトリ構造の例

```
.github/skills/my-skill/
├── SKILL.md              # 必須: メインの指示
├── LICENSE.txt           # 推奨: ライセンス条項 (Apache 2.0 標準)
├── scripts/              # オプション: 実行可能な自動化
│   ├── helper.py         # Pythonスクリプト
│   └── helper.ps1        # PowerShellスクリプト
├── references/           # オプション: コンテキストにロードされたドキュメント
│   ├── api_reference.md
│   ├── workflow-setup.md     # 詳細なワークフロー（5ステップ以上）
│   └── workflow-deployment.md
├── assets/               # オプション: 出力では静的ファイルをそのまま使用します
│   ├── baseline.png      # 比較のための参考画像
│   └── report-template.html
└── templates/            # オプション: AIエージェントが変更するスターターコード
    ├── scaffold.py       # AIエージェントがカスタマイズするコードスキャフォールド
    └── config.template   # AIエージェントが入力する設定テンプレート
```

> **LICENSE.txt**: スキルを作成する際は、https://www.apache.org/licenses/LICENSE-2.0.txt からApache 2.0ライセンステキストをダウンロードし、`LICENSE.txt` として保存してください。付録セクションの著作権年と所有者を更新してください。

### アセットとテンプレート: 主な違い

**アセット**は出力で**変更されずに消費される**静的リソースです:

- 生成されたドキュメントに埋め込まれる `logo.png`
- 出力形式としてコピーされた `report-template.html`
- テキストレンダリングに適用された `custom-font.ttf`

**テンプレート** は、**AI エージェントが積極的に変更する** スターター コード/スキャフォールドです:

- AIエージェントがロジックを挿入する「scaffold.py」
- AIエージェントがユーザーの要件に基づいて値を入力する「config.template」
- AIエージェントが新しい機能で拡張する「hello-world/」プロジェクトディレクトリ

**経験則**: AIエージェントがファイルの内容を読み取ってビルドする場合 → `templates/`。ファイルがそのまま出力に使用される場合 → `assets/`。

### SKILL.md でのリソースの参照

スキルディレクトリ内のファイルを参照するには相対パスを使用します:

```markdown
## 利用可能なスクリプト

[helper script](./scripts/helper.py)を実行して、一般的なタスクを自動化します。

詳細なドキュメントについては、[API reference](./references/api_reference.md)を参照してください。

[scaffold](./templates/scaffold.py) を開始点として使用します。
```

## プログレッシブローディングアーキテクチャ

スキルは効率化のために3段階のロードを使用する:

| レベル      | 何をロードするか             | いつ                           |
| ----------- | ---------------------------- | ------------------------------ |
| 1. 発見     | `name` と `description` のみ | 常に（軽量メタデータ）         |
| 2. 説明書   | 完全な `SKILL.md` 本体       | リクエストが説明と一致した場合 |
| 3. リソース | Scripts, examples, docs      | Copilotが参照する場合のみ      |

これはつまり:

- コンテキストを消費せずに多くのスキルをインストール
- タスクごとに関連コンテンツのみが読み込まれます
- 明示的に必要になるまでリソースは読み込まれません

## コンテンツガイドライン

### 文体

- 命令形を使用します。「実行する」、「作成する」、「構成する」（「実行する必要があります」ではありません）
- 具体的かつ実行可能な内容にする
- パラメータ付きの正確なコマンドを含める
- 役立つ場合は期待される出力を表示する
- セクションを焦点を絞って読みやすいものにする

### スクリプトの要件

スクリプトを含める場合は、クロスプラットフォーム言語を優先する:

| 言語       | 使用事例                   |
| ---------- | -------------------------- |
| Python     | 複雑な自動化、データ処理   |
| pwsh       | PowerShell Core スクリプト |
| Node.js    | JavaScriptベースのツール   |
| Bash/Shell | シンプルな自動化タスク     |

ベストプラクティス:

- ヘルプ/使用方法のドキュメントを含める (`--help` フラグ)
- 明確なメッセージでエラーを適切に処理する
- 資格情報や秘密を保存しない
- 可能な場合は相対パスを使用する

### スクリプトをバンドルするタイミング

スキルにスクリプトを含める場合:

- 同じコードがエージェントによって繰り返し書き換えられる
- 決定論的な信頼性が重要（例：ファイル操作、API 呼び出し）
- 複雑なロジックは、毎回生成するのではなく、事前にテストしておくことでメリットが得られます
- この作戦は独立して発展できる自己完結的な目的を持っている
- テスト可能性は重要です。スクリプトは単体テストと検証が可能です
- 動的な生成よりも予測可能な動作が優先される

スクリプトは進化を可能にします。単純な操作であっても、複雑性が増したり、呼び出し間で一貫した動作が必要になったり、将来の拡張性が必要になったりする可能性がある場合には、スクリプトとして実装することでメリットが得られます。

### セキュリティに関する考慮事項

- スクリプトは既存の認証情報ヘルパーに依存します（認証情報は保存されません）
- 破壊的な操作の場合のみ `--force` フラグを含める
- 取り返しのつかない行動を起こす前にユーザーに警告する
- ネットワーク操作や外部呼び出しを文書化する

## 一般的なパターン

### パラメータテーブルパターン

パラメータを明確に文書化する:

```markdown
| パラメータ  | 必須 | デフォルト | 説明                          |
| ----------- | ---- | ---------- | ----------------------------- |
| `--input`   | Yes  | -          | 処理する入力ファイルまたはURL |
| `--action`  | Yes  | -          | 実行するアクション            |
| `--verbose` | No   | `false`    | 詳細出力を有効にする          |
```

## 検証チェックリスト

スキルを公開する前に:

- [ ] `SKILL.md` には `name` と `description` を含む有効なフロントマターがあります
- [ ] `name` は小文字でハイフンを含み、64文字以下です
- [ ] `description` では、**何を**行うのか、**いつ**使用するのか、関連する **キーワード** が明確に述べられています
- [ ] 本文には、使用時期、前提条件、ステップバイステップのワークフローが含まれます
- [ ] SKILL.md 本体は 500 行以下に抑えられています (大きなコンテンツは `references/` フォルダに分割されています)
- [ ] 大規模なワークフロー（5 ステップ以上）は、SKILL.md からの明確なリンクを持つ `references/` フォルダに分割されます
- [ ] スクリプトにはヘルプドキュメントとエラー処理が含まれています
- [ ] すべてのリソース参照に使用される相対パス
- [ ] ハードコードされた資格情報や秘密情報はありません

## ワークフロー実行パターン

複数ステップのワークフローを実行する場合は、各ステップで関連するドキュメントを参照するTODOリストを作成します:

```markdown
## TODO

- [ ] Step 1: 環境を構成する - [workflow-setup.md](./references/workflow-setup.md#environment) を参照してください
- [ ] Step 2: プロジェクトのビルド - [workflow-setup.md](./references/workflow-setup.md#build) を参照してください
- [ ] Step 3: ステージングにデプロイする - [workflow-deployment.md](./references/workflow-deployment.md#staging) を参照してください
- [ ] Step 4: 検証を実行します - [workflow-deployment.md](./references/workflow-deployment.md#validation) を参照してください
- [ ] Step 5: 本番環境にデプロイする - [workflow-deployment.md](./references/workflow-deployment.md#production) を参照してください
```

これにより、追跡可能性が確保され、中断された場合でもワークフローを再開できるようになります。

## 関連リソース

- [Agent Skills Specification](https://agentskills.io/)
- [VS Code Agent Skills Documentation](https://code.visualstudio.com/docs/copilot/customization/agent-skills)
- [Reference Skills Repository](https://github.com/anthropics/skills)
- [Awesome Copilot Skills](https://github.com/github/awesome-copilot/blob/main/docs/README.skills.md)
