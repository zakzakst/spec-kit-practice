---
description: Vercel Webインターフェースガイドラインに準拠したUIコードを確認する
argument-hint: <file-or-pattern>
---

# Webインターフェースガイドライン

これらのファイルのコンプライアンスを確認する: $ARGUMENTS

ファイルを読み、以下のルールに照らし合わせてチェックしてください。簡潔かつ包括的な出力を心がけてください。簡潔さを優先し、文法は犠牲にしてください。高いS/N比（有効な信号成分（Signal）と、妨害となる雑音成分（Noise）との比率を示す指標）を実現してください。

## ルール

### アクセシビリティ

- アイコンのみのボタンには `aria-label` が必要です
- フォームコントロールには `<label>` または `aria-label` が必要です
- インタラクティブな要素にはキーボード ハンドラー (`onKeyDown`/`onKeyUp`) が必要です。
- アクションには`<div onClick>`ではなく`<button>`を利用してください、ナビゲーションのためのもの`<a>`/`<Link>`ではありません
- 画像には `alt` が必要です (装飾の場合は `alt=""`)
- 装飾アイコンには `aria-hidden="true"` が必要です
- 非同期更新（トースト、検証）には `aria-live="polite"` が必要です
- ARIA の前にセマンティック HTML (`<button>`, `<a>`, `<label>`, `<table>`) を使用する
- 見出しは階層構造の `<h1>`–`<h6>` で、メインコンテンツへのスキップリンクを含める
- 見出しアンカーの `scroll-margin-top`

### フォーカス状態

- インタラクティブな要素には可視フォーカスが必要です: `focus-visible:ring-*` または同等のもの
- フォーカス置換なしで `outline-none` / `outline: none` を使用しないでください
- `:focus` ではなく `:focus-visible` を使用する (クリック時にフォーカスリングが表示されないようにする)
- 複合コントロールの `:focus-within` によるグループフォーカス

### フォーム

- 入力には「オートコンプリート」と意味のある「名前」が必要です
- 正しい `type` (`email`, `tel`, `url`, `number`) と `inputmode` を使用してください
- 貼り付けをブロックしない (`onPaste` + `preventDefault`)
- ラベルはクリック可能（`htmlFor` またはラッピングコントロール）
- メール、コード、ユーザー名のスペルチェックを無効にする (`spellCheck={false}`)
- チェックボックス/ラジオボタン: ラベル + コントロールで単一のヒット ターゲットを共有 (デッド ゾーンなし)
- 送信ボタンはリクエストが開始されるまで有効のままです。リクエスト中はスピナーが表示されます。
- エラーはフィールドの横にインラインで表示され、送信時に最初のエラーにフォーカスが当てられます
- プレースホルダーは `…` で終わり、サンプルパターンを表示します
- パスワードマネージャーのトリガーを回避するために、非認証フィールドで `autocomplete="off"` を設定します。
- 保存されていない変更があるナビゲーションの前に警告する (`beforeunload` またはルーター ガード)

### アニメーション

- `prefers-reduced-motion` を尊重する (縮小版を提供するか無効にする)
- `transform`/`opacity` のみをアニメーション化する（コンポジターフレンドリー）
- `transition: all` は使用しないでください。プロパティを明示的にリストします。
- 正しい `transform-origin` を設定する
- SVG: `<g>` ラッパーを `transform-box: fill-box; transform-origin: center` で変換します
- アニメーションは中断可能 - アニメーションの途中でもユーザー入力に応答します

### タイポグラフィ

- 「...」ではなく「…」
- まっすぐな引用符 `"` `"` ではなく、波型の引用符 `"`
- 改行不可スペース: `10&nbsp;MB`、`⌘&nbsp;K`、ブランド名
- 読み込み状態は `…` で終わります: `"Loading…"`、`"Saving…"`
- 数値列/比較のための `font-variant-numeric: tabular-nums`
- 見出しには `text-wrap: balance` または `text-pretty` を使用します (タイポグラフィにおいて段落の最終行に「1単語」や「1文字」だけが孤立して残る現象を防ぐ)

### コンテンツ処理

- テキストコンテナは長いコンテンツを処理します: `truncate`、`line-clamp-*`、または `break-words`
- Flexの子要素では、テキストの切り捨てを可能にするために `min-w-0` が必要です。
- 空の状態を処理します。空の文字列/配列に対して壊れた UI をレンダリングしないでください。
- ユーザー生成コンテンツ: 短い、平均的な、非常に長い入力を予測する

### 画像

- `<img>` には明示的な `width` と `height` が必要です (CLS を防止します)
- 折り返し下の画像: `loading="lazy"`
- スクロール上部の重要な画像: `priority` または `fetchpriority="high"`

### パフォーマンス

- 大きなリスト（50 項目以上）: virtualize (`virtua`, `content-visibility: auto`)
- レンダリングでレイアウトが読み込まれません (`getBoundingClientRect`、`offsetHeight`、`offsetWidth`、`scrollTop`)
- DOMの読み取り/書き込みをバッチ処理し、インターリーブを回避する
- 制御されていない入力を優先します。制御された入力はキーストロークあたりのコストが安くなければなりません。
- CDN/アセットドメインに `<link rel="preconnect">` を追加します
- 重要なフォント: `<link rel="preload" as="font">` と `font-display: swap`

### ナビゲーションと状態

- URL は状態を反映します (クエリ パラメータのフィルター、タブ、ページ区切り、展開パネルなど)
- リンクは `<a>`/`<Link>` を使用します (Cmd/Ctrl+クリック、中クリックをサポート)
- すべてのステートフル UI をディープリンクします (`useState` を使用する場合は、nuqs などによる URL 同期を検討してください)
- 破壊的なアクションには確認モーダルまたは元に戻すウィンドウが必要であり、即時には実行できない

### タッチとインタラクション

- `touch-action: manipulation` (ダブルタップによるズームの遅延を防ぐ)
- `-webkit-tap-highlight-color` を意図的に設定
- モーダル/ドロワー/シート内の`overscroll-behavior: contain`
- ドラッグ中: テキスト選択を無効にし、ドラッグされた要素に対して `inert` する
- `autoFocus` は控えめに - デスクトップのみ、単一のプライマリ入力。モバイルでは使用しないでください。

### 安全エリアとレイアウト

- フルブリードレイアウトではノッチに `env(safe-area-inset-*)` が必要です
- 不要なスクロールバーを回避する: コンテナの `overflow-x-hidden` でコンテンツのオーバーフローを修正
- レイアウトのための Flex/Grid over JS 測定

### ダークモードとテーマ

- ダークテーマ用の `<html>` の `color-scheme: dark` (スクロールバーと入力を修正)
- `<meta name="theme-color">` はページの背景に一致します
- ネイティブ `<select>`: 明示的な `background-color` と `color` (Windows ダーク モード)

### ローカライズとi18n

- 日付/時刻: ハードコードされた形式ではなく `Intl.DateTimeFormat` を使用します
- 数値/通貨: ハードコードされた形式ではなく `Intl.NumberFormat` を使用します
- IPではなく、`Accept-Language` / `navigator.languages`で言語を検出します

### 安全なハイドレーション（事前に生成された HTML に対してイベントハンドラをアタッチしていく処理）

- `value` を含む入力には `onChange` が必要です (または制御されていない場合は `defaultValue` を使用します)
- 日付/時刻のレンダリング: ハイドレーションの不一致を防ぐ (サーバーとクライアント)
- 本当に必要な場合にのみ `suppressHydrationWarning` を使用する

### ホバーとインタラクティブな状態

- ボタン/リンクには `hover:` 状態（視覚的なフィードバック）が必要です
- インタラクティブな状態ではコントラストが増します。ホバー/アクティブ/フォーカスが他の状態よりも目立つようになります。

### コンテンツとコピー

- 能動態:「CLI がインストールされます」ではなく「CLI をインストールします」
- 見出し/ボタンのタイトルケース（シカゴスタイル）
- カウントの数字：「8」ではなく「8 回の展開」
- 特定のボタンラベル:「続行」ではなく「API キーを保存」
- エラーメッセージには問題だけでなく、修正/次の手順も含まれています
- 二人称。一人称は避ける
- スペースが制限されている場合は「and」の代わりに「&」を使用する

### アンチパターン（フラグを立てる）

- `user-scalable=no` または `maximum-scale=1` でズームを無効にする
- `onPaste` と `preventDefault`
- `transition: all`
- focus-visible 置換のない `outline-none`
- `<a>` なしのインライン `onClick` ナビゲーション
- クリック ハンドラー付きの `<div>` または `<span>` (`<button>` にする必要があります)
- 寸法のない画像
- 仮想化なしの大きな配列 `.map()`
- ラベルのないフォーム入力
- `aria-label` のないアイコンボタン
- ハードコードされた日付/数値形式（`Intl.*` を使用）
- 明確な根拠のない`autoFocus`

## 出力形式

ファイルごとにグループ化します。`file:line` 形式を使用します（VS Code でクリック可能）。簡潔な調査結果です。

```text
## src/Button.tsx

src/Button.tsx:42 - アイコンボタンにaria-labelがありません
src/Button.tsx:18 - 入力にラベルがありません
src/Button.tsx:55 - アニメーションがありません prefers-reduced-motion
src/Button.tsx:67 - 遷移: すべて → リストプロパティ

## src/Modal.tsx

src/Modal.tsx:12 - overscroll-behavior: contain がない
src/Modal.tsx:34 - "..." → "…"

## src/Card.tsx

✓ pass
```

問題と発生場所を明記してください。解決策が明らかでない限り、説明は省略してください。前置きは不要です。
