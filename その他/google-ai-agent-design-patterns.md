---
url: https://docs.cloud.google.com/architecture/choose-design-pattern-agentic-ai-system?hl=ja
---

# エージェント AI システムの設計パターンを選択する

## 設計パターンを比較する

### 確定的ワークフロー

決定論的ワークフローには、予測可能で順次実行されるタスクが含まれ、開始から終了までのワークフロー パスが明確に定義されています。タスクのステップは事前にわかっており、プロセスは実行ごとに大きく変わりません。

- **順次パターン**
  - 事前定義された厳格なワークフローに沿ったマルチステップ タスク
  - モデル オーケストレーションは不要
  - オペレーションの順序が固定されている。1 つのエージェントの出力は、シーケンス内の次のエージェントの直接入力になる
- **並列パターン**
  - 同時に実行できる独立したタスク
  - モデル オーケストレーションは不要
  - サブタスクを同時に実行することで、全体的なレイテンシを短縮する
- **反復的な改良パターン**
  - 1 回の試行で完了することが難しい、オープンエンドまたは複雑な生成タスク
  - エージェントが複数のサイクルにわたって出力を段階的に改善する必要がある
  - モデル オーケストレーションは不要
  - レイテンシよりも出力品質を優先する

### 動的オーケストレーションを必要とするワークフロー

動的オーケストレーションが必要なワークフローには、エージェントが最適な手順を判断する必要がある複雑な問題が含まれます。エージェント AI システムは、事前定義されたスクリプトなしでタスクを動的に計画、委任、調整する必要があります。

- **単一エージェントパターン**
  - 外部ツールの使用が必要な構造化されたマルチステップ タスク
  - 概念実証としてソリューションのプロトタイプを迅速に開発する必要がある
- **コーディネーターパターン**
  - さまざまな入力を含む構造化されたタスクに対して、適切な専門サブエージェントへの動的ルーティングが必要
  - コーディネーター AI モデルへの複数の呼び出しにより、タスクを適切なサブエージェントに転送できるため、レイテンシが高くなる
  - コーディネーター エージェントへの呼び出しが複数回行われるため、コストが高くなる可能性がある
- **階層型タスク分解パターン**
  - 複雑でオープンエンドな曖昧なタスクには、マルチレベル モデルのオーケストレーションが必要
  - 曖昧さを分解することが主な課題となる、包括的で高品質な結果が必要
  - ネストされたマルチレベルの分解によりレイテンシが高くなり、推論のために AI モデルが複数回呼び出される
- **スウォームパターン**
  - 非常に複雑で、オープンエンドまたは曖昧なタスクの場合、複数の専門エージェントによる共同での議論と反復的な改善が必要になる
  - 複数の視点を統合して、包括的または創造的な解決策を作成することを優先
  - エージェント間の動的な全対全通信によるレイテンシと運用コストの増加

### 反復処理を含むワークフロー

反復処理を伴うワークフローには、最終的な出力が改善、フィードバック、改善のサイクルを通じて達成されるタスクが含まれます。

- **ReActパターン**
  - 複雑でオープンエンドな動的タスクの計画を構築または適応させるために、エージェントが反復的に推論、行動、観察を行う必要がある
  - レイテンシよりも正確で徹底的な結果を優先
- **ループパターン**
  - エージェントが終了条件を満たすまで、自動チェックなどの事前定義されたアクションを繰り返すモニタリング タスクまたはポーリング タスクが必要
  - 終了条件が満たされるのを待っている間に、予測不能なレイテンシや長時間実行されるレイテンシが発生する
- **レビューと批評のパターン**
  - タスクを完了するには、個別の検証ステップが必要
- **反復的な改良パターン**
  - 1 回の試行で完了することが難しい、オープンエンドまたは複雑な生成タスク
  - エージェントが複数のサイクルにわたって出力を段階的に改善する必要がある
  - モデル オーケストレーションは不要
  - レイテンシよりも出力品質を優先

### 特別な要件があるワークフロー

特別な要件があるワークフローには、一般的なエージェント パターンに従わないタスクが含まれます。タスクには独自のビジネス ロジックを含めることも、重要なポイントで人間の判断と介入が必要になることもあります。エージェント AI システムは、単一の特定の目的のために設計されたカスタムビルドのマシンです。

- **人間参加型パターン**
  - 安全性、信頼性、コンプライアンスの要件を含む可能性のある、重大なタスクや主観的なタスクのため、人間による監督が必要
- **カスタムロジックパターン**
  - 直接的な線形シーケンスを超える複雑な分岐ロジック
  - 事前定義ルールとモデルの推論を組み合わせるために、最大限の制御が必要
  - 標準テンプレートに適合しないワークフローのきめ細かいプロセス制御が必要
